/*! (c) 2019 FMS_Cat - https://github.com/FMS-Cat/experimental/blob/master/LICENSE */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FMS_CAT_EXPERIMENTAL=e():t.FMS_CAT_EXPERIMENTAL=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.__time=0,this.__deltaTime=0,this.__isPlaying=!1}return Object.defineProperty(t.prototype,"time",{get:function(){return this.__time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaTime",{get:function(){return this.__deltaTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.__isPlaying},enumerable:!0,configurable:!0}),t.prototype.update=function(t){var e=this.__time;this.__time=t||0,this.__deltaTime=this.__time-e},t.prototype.play=function(){this.__isPlaying=!0},t.prototype.pause=function(){this.__isPlaying=!1},t.prototype.setTime=function(t){this.__time=t},t}();e.Clock=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(5)),r(n(6)),r(n(9)),r(n(11)),r(n(14)),r(n(16)),r(n(18)),r(n(20)),r(n(0)),r(n(28)),r(n(30)),r(n(32))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.binarySearch=function(t,e){for(var n=0,r=e.length;n<r;){var i=n+r>>1;e[i]<t?n=i+1:r=i}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t){this.__history=[],this.__sorted=[],this.__index=0,this.__length=t}return Object.defineProperty(t.prototype,"median",{get:function(){var t=Math.min(this.__sorted.length,this.__length);return this.__sorted[Math.floor((t-1)/2)]},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__index=0,this.__history=[],this.__sorted=[]},t.prototype.push=function(t){var e=this.__history[this.__index];if(this.__history[this.__index]=t,this.__index=(this.__index+1)%this.__length,this.__sorted.length===this.__length){var n=r.binarySearch(e,this.__sorted);this.__sorted.splice(n,1)}var i=r.binarySearch(t,this.__sorted);this.__sorted.splice(i,0,t)},t}();e.HistoryMedianCalculator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(3))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(7)),r(n(8))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRIANGLE_STRIP_QUAD=[-1,-1,1,-1,-1,1,1,1],e.TRIANGLE_STRIP_QUAD_3D=[-1,-1,0,1,-1,0,-1,1,0,1,1,0],e.TRIANGLE_STRIP_QUAD_NORMAL=[0,0,1,0,0,1,0,0,1,0,0,1],e.TRIANGLE_STRIP_QUAD_UV=[0,0,1,0,0,1,1,1]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shuffleArray=function(t,e){for(var n=e||function(){return Math.random()},r=0;r<t.length-1;r++){var i=r+Math.floor(n()*(t.length-r)),o=t[i];t[i]=t[r],t[r]=o}return t},e.triIndexToLineIndex=function(t){for(var e=[],n=0;n<t.length/3;n++){var r=3*n;e.push(t[r],t[r+1],t[r+1],t[r+2],t[r+2],t[r])}return e},e.matrix2d=function(t,e){for(var n=[],r=0;r<e;r++)for(var i=0;i<t;i++)n.push(i,r);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(10))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.factor=100,this.ratio=1,this.velocity=0,this.value=0,this.target=0}return t.prototype.update=function(t){return this.velocity+=(-this.factor*(this.value-this.target)-2*this.velocity*Math.sqrt(this.factor)*this.ratio)*t,this.value+=this.velocity*t,this.value},t}();e.CDS=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(1)),r(n(12)),r(n(13))},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){void 0===e&&(e=60);var n=t.call(this)||this;return n.__frame=0,n.__fps=e,n}return i(e,t),Object.defineProperty(e.prototype,"frame",{get:function(){return this.__frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fps",{get:function(){return this.__fps},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.__isPlaying?(this.__time=this.__frame/this.__fps,this.__deltaTime=1/this.__fps,this.__frame++):this.__deltaTime=0},e.prototype.setTime=function(t){this.__frame=Math.floor(this.__fps*t),this.__time=this.__frame/this.__fps},e}(n(1).Clock);e.ClockFrame=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__rtTime=0,e.__rtDate=performance.now(),e}return i(e,t),Object.defineProperty(e.prototype,"isRealtime",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=performance.now();if(this.__isPlaying){var e=this.__time,n=t-this.__rtDate;this.__time=this.__rtTime+n/1e3,this.__deltaTime=this.time-e}else this.__rtTime=this.time,this.__rtDate=t,this.__deltaTime=0},e.prototype.setTime=function(t){this.__time=t,this.__rtTime=this.time,this.__rtDate=performance.now()},e}(n(1).Clock);e.ClockRealtime=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(15))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function t(){this.factor=10,this.target=0,this.value=0}return t.prototype.update=function(t){return this.value=r.lerp(this.target,this.value,Math.exp(-this.factor*t)),this.value},t}();e.ExpSmooth=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(17))},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n,r){void 0===e&&(e=t.WordsDefault),void 0===n&&(n=1),void 0===r&&(r=100),this.__words=e,this.__index=n,this.__end=r}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){var t,e;if(this.__end<this.__index)return{done:!0,value:null};var n="";try{for(var o=r(this.__words),s=o.next();!s.done;s=o.next()){var u=i(s.value,2),c=u[0],a=u[1];this.__index%c==0&&(n+=a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return""===n&&(n=this.__index),this.__index++,{done:!1,value:n}},t.WordsDefault=new Map([[3,"Fizz"],[5,"Buzz"]]),t}();e.FizzBuzz=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(19))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.gif="https://fms-cat.com/images/fms_cat.gif",t.png="https://fms-cat.com/images/fms_cat.png",t}();e.FMS_Cat=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(21)),r(n(4))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.__recalcForEach=0,this.__countUntilRecalc=0,this.__history=[],this.__index=0,this.__count=0,this.__cache=0,this.__length=t,this.__recalcForEach=t;for(var e=0;e<t;e++)this.__history[e]=0}return Object.defineProperty(t.prototype,"mean",{get:function(){var t=Math.min(this.__count,this.__length);return 0===t?0:this.__cache/t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recalcForEach",{get:function(){return this.__recalcForEach},set:function(t){var e=t-this.__recalcForEach;this.__recalcForEach=t,this.__countUntilRecalc=Math.max(0,this.__countUntilRecalc+e)},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__index=0,this.__count=0,this.__cache=0,this.__countUntilRecalc=0;for(var t=0;t<this.__length;t++)this.__history[t]=0},t.prototype.push=function(t){var e=this.__history[this.__index];this.__history[this.__index]=t,this.__count++,this.__index=(this.__index+1)%this.__length,0===this.__countUntilRecalc?this.recalc():(this.__countUntilRecalc--,this.__cache-=e,this.__cache+=t)},t.prototype.recalc=function(){this.__countUntilRecalc=this.__recalcForEach;var t=this.__history.slice(0,Math.min(this.__count,this.__length)).reduce((function(t,e){return t+e}),0);this.__cache=t},t}();e.HistoryMeanCalculator=r},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);e.rawIdentityMatrix4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var s=function(){function t(t){void 0===t&&(t=e.rawIdentityMatrix4),this.elements=t}return Object.defineProperty(t.prototype,"transpose",{get:function(){var e=this.elements;return new t([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"determinant",{get:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],a=t[8],f=t[9],h=t[10],l=t[11],_=t[12],p=t[13],y=t[14],d=t[15];return(e*s-n*o)*(h*d-l*y)-(e*u-r*o)*(f*d-l*p)+(e*c-i*o)*(f*y-h*p)+(n*u-r*s)*(a*d-l*_)-(n*c-i*s)*(a*y-h*_)+(r*c-i*u)*(a*p-f*_)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inverse",{get:function(){var e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],a=e[7],f=e[8],h=e[9],l=e[10],_=e[11],p=e[12],y=e[13],d=e[14],m=e[15],b=n*u-r*s,v=n*c-i*s,g=n*a-o*s,w=r*c-i*u,P=r*a-o*u,x=i*a-o*c,O=f*y-h*p,M=f*d-l*p,j=f*m-_*p,z=h*d-l*y,T=h*m-_*y,S=l*m-_*d,F=b*S-v*T+g*z+w*j-P*M+x*O;if(0===F)return null;var A=1/F;return new t([u*S-c*T+a*z,i*T-r*S-o*z,y*x-d*P+m*w,l*P-h*x-_*w,c*j-s*S-a*M,n*S-i*j+o*M,d*g-p*x-m*v,f*x-l*g+_*v,s*T-u*j+a*O,r*j-n*T-o*O,p*P-y*g+m*b,h*g-f*P-_*b,u*M-s*z-c*O,n*z-r*M+i*O,y*v-p*w-d*b,f*w-h*v+l*b].map((function(t){return t*A})))},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this.elements.map((function(t){return t.toFixed(3)}));return"Matrix4( "+t[0]+", "+t[4]+", "+t[8]+", "+t[12]+"; "+t[1]+", "+t[5]+", "+t[9]+", "+t[13]+"; "+t[2]+", "+t[6]+", "+t[10]+", "+t[14]+"; "+t[3]+", "+t[7]+", "+t[11]+", "+t[15]+" )"},t.prototype.clone=function(){return new t(this.elements.concat())},t.prototype.multiply=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return this.clone();var r=e.concat(),o=r.shift();0<r.length&&(o=o.multiply.apply(o,i(r)));var s=this.elements,u=o.elements;return new t([s[0]*u[0]+s[4]*u[1]+s[8]*u[2]+s[12]*u[3],s[1]*u[0]+s[5]*u[1]+s[9]*u[2]+s[13]*u[3],s[2]*u[0]+s[6]*u[1]+s[10]*u[2]+s[14]*u[3],s[3]*u[0]+s[7]*u[1]+s[11]*u[2]+s[15]*u[3],s[0]*u[4]+s[4]*u[5]+s[8]*u[6]+s[12]*u[7],s[1]*u[4]+s[5]*u[5]+s[9]*u[6]+s[13]*u[7],s[2]*u[4]+s[6]*u[5]+s[10]*u[6]+s[14]*u[7],s[3]*u[4]+s[7]*u[5]+s[11]*u[6]+s[15]*u[7],s[0]*u[8]+s[4]*u[9]+s[8]*u[10]+s[12]*u[11],s[1]*u[8]+s[5]*u[9]+s[9]*u[10]+s[13]*u[11],s[2]*u[8]+s[6]*u[9]+s[10]*u[10]+s[14]*u[11],s[3]*u[8]+s[7]*u[9]+s[11]*u[10]+s[15]*u[11],s[0]*u[12]+s[4]*u[13]+s[8]*u[14]+s[12]*u[15],s[1]*u[12]+s[5]*u[13]+s[9]*u[14]+s[13]*u[15],s[2]*u[12]+s[6]*u[13]+s[10]*u[14]+s[14]*u[15],s[3]*u[12]+s[7]*u[13]+s[11]*u[14]+s[15]*u[15]])},t.prototype.scaleScalar=function(e){return new t(this.elements.map((function(t){return t*e})))},Object.defineProperty(t,"identity",{get:function(){return new t(e.rawIdentityMatrix4)},enumerable:!0,configurable:!0}),t.multiply=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return t.identity;var r=e.concat(),o=r.shift();return o.multiply.apply(o,i(r))},t.translate=function(e){return new t([1,0,0,0,0,1,0,0,0,0,1,0,e.x,e.y,e.z,1])},t.scale=function(e){return new t([e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1])},t.scaleScalar=function(e){return new t([e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1])},t.rotateX=function(e){return new t([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1])},t.rotateY=function(e){return new t([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1])},t.rotateZ=function(e){return new t([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1])},t.lookAt=function(e,n,r,i){void 0===n&&(n=new o.Vector3([0,0,0])),void 0===r&&(r=new o.Vector3([0,1,0])),void 0===i&&(i=0);var s=e.sub(n).normalized,u=r.cross(s).normalized,c=s.cross(u);return u=u.scale(Math.cos(i)).add(c.scale(Math.sin(i))),c=s.cross(u),new t([u.x,u.y,u.z,0,c.x,c.y,c.z,0,s.x,s.y,s.z,0,e.x,e.y,e.z,1])},t.perspective=function(e,n,r){void 0===e&&(e=45),void 0===n&&(n=.01),void 0===r&&(r=100);var i=1/Math.tan(e*Math.PI/360),o=r-n;return new t([i,0,0,0,0,i,0,0,0,0,-(r+n)/o,-1,0,0,-2*r*n/o,0])},t.prototype.decompose=function(){var t=this.elements,e=new o.Vector3([t[0],t[1],t[2]]).length,n=new o.Vector3([t[4],t[5],t[6]]).length,r=new o.Vector3([t[8],t[9],t[10]]).length;this.determinant<0&&(e=-e);var i=1/e,s=1/n,u=1/r,c=this.clone();return c.elements[0]*=i,c.elements[1]*=i,c.elements[2]*=i,c.elements[4]*=s,c.elements[5]*=s,c.elements[6]*=s,c.elements[8]*=u,c.elements[9]*=u,c.elements[10]*=u,{position:new o.Vector3([t[12],t[13],t[14]]),scale:new o.Vector3([e,n,r]),rotation:o.Quaternion.fromMatrix(c)}},t.compose=function(e,n,r){var i=n.x,o=n.y,s=n.z,u=n.w,c=i+i,a=o+o,f=s+s,h=i*c,l=i*a,_=i*f,p=o*a,y=o*f,d=s*f,m=u*c,b=u*a,v=u*f,g=r.x,w=r.y,P=r.z;return new t([(1-(p+d))*g,(l+v)*g,(_-b)*g,0,(l-v)*w,(1-(h+d))*w,(y+m)*w,0,(_+b)*P,(y-m)*P,(1-(h+p))*P,0,e.x,e.y,e.z,1])},t}();e.Matrix4=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.rawIdentityQuaternion=[0,0,0,1];var i=function(){function t(t){void 0===t&&(t=e.rawIdentityQuaternion),this.elements=t}return Object.defineProperty(t.prototype,"x",{get:function(){return this.elements[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.elements[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.elements[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.elements[3]},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Quaternion( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+", "+this.w.toFixed(3)+" )"},t.prototype.clone=function(){return new t(this.elements.concat())},Object.defineProperty(t.prototype,"matrix",{get:function(){var t=new r.Vector3([1,0,0]).applyQuaternion(this),e=new r.Vector3([0,1,0]).applyQuaternion(this),n=new r.Vector3([0,0,1]).applyQuaternion(this);return new r.Matrix4([t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return new t([-this.x,-this.y,-this.z,this.w])},enumerable:!0,configurable:!0}),t.prototype.multiply=function(e){return new t([this.w*e.x+this.x*e.w+this.y*e.z-this.z*e.y,this.w*e.y-this.x*e.z+this.y*e.w+this.z*e.x,this.w*e.z+this.x*e.y-this.y*e.x+this.z*e.w,this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z])},Object.defineProperty(t,"identity",{get:function(){return new t(e.rawIdentityQuaternion)},enumerable:!0,configurable:!0}),t.fromAxisAngle=function(e,n){var r=n/2,i=Math.sin(r);return new t([e.x*i,e.y*i,e.z*i,Math.cos(r)])},t.fromMatrix=function(e){var n,r=e.elements,i=r[0],o=r[4],s=r[8],u=r[1],c=r[5],a=r[9],f=r[2],h=r[6],l=r[10],_=i+c+l;return new t(_>0?[(h-a)*(n=.5/Math.sqrt(_+1)),(s-f)*n,(u-o)*n,.25/n]:i>c&&i>l?[.25*(n=2*Math.sqrt(1+i-c-l)),(o+u)/n,(s+f)/n,(h-a)/n]:c>l?[(o+u)/(n=2*Math.sqrt(1+c-i-l)),.25*n,(a+h)/n,(s-f)/n]:[(s+f)/(n=2*Math.sqrt(1+l-i-c)),(a+h)/n,.25*n,(u-o)/n])},t}();e.Quaternion=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.elements.reduce((function(t,e){return t+e*e}),0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalized",{get:function(){return this.scale(1/this.length)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return this.__new(this.elements.concat())},t.prototype.add=function(t){return this.__new(this.elements.map((function(e,n){return e+t.elements[n]})))},t.prototype.sub=function(t){return this.__new(this.elements.map((function(e,n){return e-t.elements[n]})))},t.prototype.multiply=function(t){return this.__new(this.elements.map((function(e,n){return e*t.elements[n]})))},t.prototype.divide=function(t){return this.__new(this.elements.map((function(e,n){return e/t.elements[n]})))},t.prototype.scale=function(t){return this.__new(this.elements.map((function(e){return e*t})))},t.prototype.dot=function(t){return this.elements.reduce((function(e,n,r){return e+n*t.elements[r]}),0)},t}();e.Vector=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=function(t){function e(e){void 0===e&&(e=[0,0,0]);var n=t.call(this)||this;return n.elements=e,n}return i(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Vector3( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+" )"},e.prototype.cross=function(t){return new e([this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x])},e.prototype.applyQuaternion=function(t){var n=new o.Quaternion([this.x,this.y,this.z,0]),r=t.inversed,i=t.multiply(n).multiply(r);return new e([i.x,i.y,i.z])},e.prototype.applyMatrix4=function(t){var n=t.elements,r=1/(n[3]*this.x+n[7]*this.y+n[11]*this.z+n[15]);return new e([(n[0]*this.x+n[4]*this.y+n[8]*this.z+n[12])*r,(n[1]*this.x+n[5]*this.y+n[9]*this.z+n[13])*r,(n[2]*this.x+n[6]*this.y+n[10]*this.z+n[14])*r])},e.prototype.__new=function(t){return new e(t)},Object.defineProperty(e,"zero",{get:function(){return new e([0,0,0])},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e([1,1,1])},enumerable:!0,configurable:!0}),e}(o.Vector);e.Vector3=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){void 0===e&&(e=[0,0,0,0]);var n=t.call(this)||this;return n.elements=e,n}return i(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Vector4( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+", "+this.w.toFixed(3)+" )"},e.prototype.applyMatrix4=function(t){var n=t.elements;return new e([n[0]*this.x+n[4]*this.y+n[8]*this.z+n[12]*this.w,n[1]*this.x+n[5]*this.y+n[9]*this.z+n[13]*this.w,n[2]*this.x+n[6]*this.y+n[10]*this.z+n[14]*this.w,n[3]*this.x+n[7]*this.y+n[11]*this.z+n[15]*this.w])},e.prototype.__new=function(t){return new e(t)},Object.defineProperty(e,"zero",{get:function(){return new e([0,0,0,0])},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e([1,1,1,1])},enumerable:!0,configurable:!0}),e}(n(0).Vector);e.Vector4=o},function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function i(t){return r(t,0,1)}function o(t,e,n){return i((n-t)/(e-t))}Object.defineProperty(e,"__esModule",{value:!0}),e.lerp=function(t,e,n){return t+(e-t)*n},e.clamp=r,e.saturate=i,e.linearstep=o,e.smoothstep=function(t,e,n){var r=o(t,e,n);return r*r*(3-2*r)},e.smootherstep=function(t,e,n){var r=o(t,e,n);return r*r*r*(r*(6*r-15)+10)},e.smootheststep=function(t,e,n){var r=o(t,e,n);return r*r*r*r*(r*(r*(-20*r+70)-84)+35)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(29))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.i=t,this.o=e}return t.prototype.swap=function(){var t=this.i;this.i=this.o,this.o=t},t}();e.Swap=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(31))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=function(){function t(){this.__bpm=0,this.__lastTap=0,this.__lastBeat=0,this.__lastTime=0,this.__calc=new r.HistoryMedianCalculator(16)}return Object.defineProperty(t.prototype,"beatDuration",{get:function(){return 60/this.__bpm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bpm",{get:function(){return this.__bpm},set:function(t){this.__lastBeat=this.beat,this.__lastTime=performance.now(),this.__bpm=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beat",{get:function(){return this.__lastBeat+.001*(performance.now()-this.__lastTime)/this.beatDuration},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__calc.reset()},t.prototype.nudge=function(t){this.__lastBeat=this.beat+t,this.__lastTime=performance.now()},t.prototype.tap=function(){var t=performance.now(),e=.001*(t-this.__lastTap);2<e?this.reset():(this.__calc.push(e),this.__bpm=60/this.__calc.median),this.__lastTap=t,this.__lastTime=t,this.__lastBeat=0},t}();e.TapTempo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(33))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.seed=t||1}return t.prototype.gen=function(t){return t&&(this.seed=t),this.seed=this.seed^this.seed<<13,this.seed=this.seed^this.seed>>>17,this.seed=this.seed^this.seed<<5,this.seed/Math.pow(2,32)+.5},t.prototype.set=function(t){this.seed=t||this.seed||1},t}();e.Xorshift=r,e.default=r}])}));