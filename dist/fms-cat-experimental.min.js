// (c) 2019-2020 FMS_Cat - https://github.com/FMS-Cat/experimental-npm/blob/master/LICENSE
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).FMS_CAT_EXPERIMENTAL={})}(this,(function(t){"use strict";function e(t,e){for(var n=0,i=e.length;n<i;){var r=n+i>>1;e[r]<t?n=r+1:i=r}return n}var n=function(){function t(){this.factor=100,this.ratio=1,this.velocity=0,this.value=0,this.target=0}return t.prototype.update=function(t){return this.velocity+=(-this.factor*(this.value-this.target)-2*this.velocity*Math.sqrt(this.factor)*this.ratio)*t,this.value+=this.velocity*t,this.value},t}(),i=function(){function t(){this.__time=0,this.__deltaTime=0,this.__isPlaying=!1}return Object.defineProperty(t.prototype,"time",{get:function(){return this.__time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaTime",{get:function(){return this.__deltaTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.__isPlaying},enumerable:!0,configurable:!0}),t.prototype.update=function(t){var e=this.__time;this.__time=t||0,this.__deltaTime=this.__time-e},t.prototype.play=function(){this.__isPlaying=!0},t.prototype.pause=function(){this.__isPlaying=!1},t.prototype.setTime=function(t){this.__time=t},t}(),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var a=function(t){function e(e){void 0===e&&(e=60);var n=t.call(this)||this;return n.__frame=0,n.__fps=e,n}return o(e,t),Object.defineProperty(e.prototype,"frame",{get:function(){return this.__frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fps",{get:function(){return this.__fps},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.__isPlaying?(this.__time=this.__frame/this.__fps,this.__deltaTime=1/this.__fps,this.__frame++):this.__deltaTime=0},e.prototype.setTime=function(t){this.__frame=Math.floor(this.__fps*t),this.__time=this.__frame/this.__fps},e}(i),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__rtTime=0,e.__rtDate=performance.now(),e}return o(e,t),Object.defineProperty(e.prototype,"isRealtime",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t=performance.now();if(this.__isPlaying){var e=this.__time,n=t-this.__rtDate;this.__time=this.__rtTime+n/1e3,this.__deltaTime=this.time-e}else this.__rtTime=this.time,this.__rtDate=t,this.__deltaTime=0},e.prototype.setTime=function(t){this.__time=t,this.__rtTime=this.time,this.__rtDate=performance.now()},e}(i);function c(t,e,n){return t+(e-t)*n}function l(t,e,n){return Math.min(Math.max(t,e),n)}function f(t){return l(t,0,1)}function _(t,e,n){return f((n-t)/(e-t))}var p=function(){function t(){this.factor=10,this.target=0,this.value=0}return t.prototype.update=function(t){return this.value=c(this.target,this.value,Math.exp(-this.factor*t)),this.value},t}(),y=function(){function t(e,n,i){void 0===e&&(e=t.WordsDefault),void 0===n&&(n=1),void 0===i&&(i=100),this.__words=e,this.__index=n,this.__end=i}return t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){var t,e;if(this.__end<this.__index)return{done:!0,value:null};var n="";try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.__words),r=i.next();!r.done;r=i.next()){var o=s(r.value,2),u=o[0],a=o[1];this.__index%u==0&&(n+=a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return""===n&&(n=this.__index),this.__index++,{done:!1,value:n}},t.WordsDefault=new Map([[3,"Fizz"],[5,"Buzz"]]),t}(),m=function(){function t(){}return t.gif="https://fms-cat.com/images/fms_cat.gif",t.png="https://fms-cat.com/images/fms_cat.png",t}(),d=function(){function t(t){this.__recalcForEach=0,this.__countUntilRecalc=0,this.__history=[],this.__index=0,this.__count=0,this.__cache=0,this.__length=t,this.__recalcForEach=t;for(var e=0;e<t;e++)this.__history[e]=0}return Object.defineProperty(t.prototype,"mean",{get:function(){var t=Math.min(this.__count,this.__length);return 0===t?0:this.__cache/t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recalcForEach",{get:function(){return this.__recalcForEach},set:function(t){var e=t-this.__recalcForEach;this.__recalcForEach=t,this.__countUntilRecalc=Math.max(0,this.__countUntilRecalc+e)},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__index=0,this.__count=0,this.__cache=0,this.__countUntilRecalc=0;for(var t=0;t<this.__length;t++)this.__history[t]=0},t.prototype.push=function(t){var e=this.__history[this.__index];this.__history[this.__index]=t,this.__count++,this.__index=(this.__index+1)%this.__length,0===this.__countUntilRecalc?this.recalc():(this.__countUntilRecalc--,this.__cache-=e,this.__cache+=t)},t.prototype.recalc=function(){this.__countUntilRecalc=this.__recalcForEach;var t=this.__history.slice(0,Math.min(this.__count,this.__length)).reduce((function(t,e){return t+e}),0);this.__cache=t},t}(),b=function(){function t(t){this.__history=[],this.__sorted=[],this.__index=0,this.__length=t}return Object.defineProperty(t.prototype,"median",{get:function(){var t=Math.min(this.__sorted.length,this.__length);return this.__sorted[Math.floor((t-1)/2)]},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__index=0,this.__history=[],this.__sorted=[]},t.prototype.push=function(t){var n=this.__history[this.__index];if(this.__history[this.__index]=t,this.__index=(this.__index+1)%this.__length,this.__sorted.length===this.__length){var i=e(n,this.__sorted);this.__sorted.splice(i,1)}var r=e(t,this.__sorted);this.__sorted.splice(r,0,t)},t}(),g=function(){function t(){}return Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.elements.reduce((function(t,e){return t+e*e}),0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalized",{get:function(){return this.scale(1/this.length)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return this.__new(this.elements.concat())},t.prototype.add=function(t){return this.__new(this.elements.map((function(e,n){return e+t.elements[n]})))},t.prototype.sub=function(t){return this.__new(this.elements.map((function(e,n){return e-t.elements[n]})))},t.prototype.multiply=function(t){return this.__new(this.elements.map((function(e,n){return e*t.elements[n]})))},t.prototype.divide=function(t){return this.__new(this.elements.map((function(e,n){return e/t.elements[n]})))},t.prototype.scale=function(t){return this.__new(this.elements.map((function(e){return e*t})))},t.prototype.dot=function(t){return this.elements.reduce((function(e,n,i){return e+n*t.elements[i]}),0)},t}(),v=function(t){function e(e){void 0===e&&(e=[0,0,0]);var n=t.call(this)||this;return n.elements=e,n}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Vector3( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+" )"},e.prototype.cross=function(t){return new e([this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x])},e.prototype.applyQuaternion=function(t){var n=new w([this.x,this.y,this.z,0]),i=t.inversed,r=t.multiply(n).multiply(i);return new e([r.x,r.y,r.z])},e.prototype.applyMatrix4=function(t){var n=t.elements,i=1/(n[3]*this.x+n[7]*this.y+n[11]*this.z+n[15]);return new e([(n[0]*this.x+n[4]*this.y+n[8]*this.z+n[12])*i,(n[1]*this.x+n[5]*this.y+n[9]*this.z+n[13])*i,(n[2]*this.x+n[6]*this.y+n[10]*this.z+n[14])*i])},e.prototype.__new=function(t){return new e(t)},Object.defineProperty(e,"zero",{get:function(){return new e([0,0,0])},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e([1,1,1])},enumerable:!0,configurable:!0}),e}(g),x=[0,0,0,1],w=function(){function t(t){void 0===t&&(t=x),this.elements=t}return Object.defineProperty(t.prototype,"x",{get:function(){return this.elements[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.elements[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.elements[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.elements[3]},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Quaternion( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+", "+this.w.toFixed(3)+" )"},t.prototype.clone=function(){return new t(this.elements.concat())},Object.defineProperty(t.prototype,"matrix",{get:function(){var t=new v([1,0,0]).applyQuaternion(this),e=new v([0,1,0]).applyQuaternion(this),n=new v([0,0,1]).applyQuaternion(this);return new M([t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return new t([-this.x,-this.y,-this.z,this.w])},enumerable:!0,configurable:!0}),t.prototype.multiply=function(e){return new t([this.w*e.x+this.x*e.w+this.y*e.z-this.z*e.y,this.w*e.y-this.x*e.z+this.y*e.w+this.z*e.x,this.w*e.z+this.x*e.y-this.y*e.x+this.z*e.w,this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z])},Object.defineProperty(t,"identity",{get:function(){return new t(x)},enumerable:!0,configurable:!0}),t.fromAxisAngle=function(e,n){var i=n/2,r=Math.sin(i);return new t([e.x*r,e.y*r,e.z*r,Math.cos(i)])},t.fromMatrix=function(e){var n,i=e.elements,r=i[0],o=i[4],s=i[8],u=i[1],a=i[5],h=i[9],c=i[2],l=i[6],f=i[10],_=r+a+f;return new t(_>0?[(l-h)*(n=.5/Math.sqrt(_+1)),(s-c)*n,(u-o)*n,.25/n]:r>a&&r>f?[.25*(n=2*Math.sqrt(1+r-a-f)),(o+u)/n,(s+c)/n,(l-h)/n]:a>f?[(o+u)/(n=2*Math.sqrt(1+a-r-f)),.25*n,(h+l)/n,(s-c)/n]:[(s+c)/(n=2*Math.sqrt(1+f-r-a)),(h+l)/n,.25*n,(u-o)/n])},t}(),z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M=function(){function t(t){void 0===t&&(t=z),this.elements=t}return Object.defineProperty(t.prototype,"transpose",{get:function(){var e=this.elements;return new t([e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"determinant",{get:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],u=t[6],a=t[7],h=t[8],c=t[9],l=t[10],f=t[11],_=t[12],p=t[13],y=t[14],m=t[15];return(e*s-n*o)*(l*m-f*y)-(e*u-i*o)*(c*m-f*p)+(e*a-r*o)*(c*y-l*p)+(n*u-i*s)*(h*m-f*_)-(n*a-r*s)*(h*y-l*_)+(i*a-r*u)*(h*p-c*_)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inverse",{get:function(){var e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],u=e[5],a=e[6],h=e[7],c=e[8],l=e[9],f=e[10],_=e[11],p=e[12],y=e[13],m=e[14],d=e[15],b=n*u-i*s,g=n*a-r*s,v=n*h-o*s,x=i*a-r*u,w=i*h-o*u,z=r*h-o*a,M=c*y-l*p,P=c*m-f*p,O=c*d-_*p,j=l*m-f*y,T=l*d-_*y,F=f*d-_*m,S=b*F-g*T+v*j+x*O-w*P+z*M;if(0===S)return null;var R=1/S;return new t([u*F-a*T+h*j,r*T-i*F-o*j,y*z-m*w+d*x,f*w-l*z-_*x,a*O-s*F-h*P,n*F-r*O+o*P,m*v-p*z-d*g,c*z-f*v+_*g,s*T-u*O+h*M,i*O-n*T-o*M,p*w-y*v+d*b,l*v-c*w-_*b,u*P-s*j-a*M,n*j-i*P+r*M,y*g-p*x-m*b,c*x-l*g+f*b].map((function(t){return t*R})))},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this.elements.map((function(t){return t.toFixed(3)}));return"Matrix4( "+t[0]+", "+t[4]+", "+t[8]+", "+t[12]+"; "+t[1]+", "+t[5]+", "+t[9]+", "+t[13]+"; "+t[2]+", "+t[6]+", "+t[10]+", "+t[14]+"; "+t[3]+", "+t[7]+", "+t[11]+", "+t[15]+" )"},t.prototype.clone=function(){return new t(this.elements.concat())},t.prototype.multiply=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return this.clone();var i=e.concat(),r=i.shift();0<i.length&&(r=r.multiply.apply(r,u(i)));var o=this.elements,s=r.elements;return new t([o[0]*s[0]+o[4]*s[1]+o[8]*s[2]+o[12]*s[3],o[1]*s[0]+o[5]*s[1]+o[9]*s[2]+o[13]*s[3],o[2]*s[0]+o[6]*s[1]+o[10]*s[2]+o[14]*s[3],o[3]*s[0]+o[7]*s[1]+o[11]*s[2]+o[15]*s[3],o[0]*s[4]+o[4]*s[5]+o[8]*s[6]+o[12]*s[7],o[1]*s[4]+o[5]*s[5]+o[9]*s[6]+o[13]*s[7],o[2]*s[4]+o[6]*s[5]+o[10]*s[6]+o[14]*s[7],o[3]*s[4]+o[7]*s[5]+o[11]*s[6]+o[15]*s[7],o[0]*s[8]+o[4]*s[9]+o[8]*s[10]+o[12]*s[11],o[1]*s[8]+o[5]*s[9]+o[9]*s[10]+o[13]*s[11],o[2]*s[8]+o[6]*s[9]+o[10]*s[10]+o[14]*s[11],o[3]*s[8]+o[7]*s[9]+o[11]*s[10]+o[15]*s[11],o[0]*s[12]+o[4]*s[13]+o[8]*s[14]+o[12]*s[15],o[1]*s[12]+o[5]*s[13]+o[9]*s[14]+o[13]*s[15],o[2]*s[12]+o[6]*s[13]+o[10]*s[14]+o[14]*s[15],o[3]*s[12]+o[7]*s[13]+o[11]*s[14]+o[15]*s[15]])},t.prototype.scaleScalar=function(e){return new t(this.elements.map((function(t){return t*e})))},Object.defineProperty(t,"identity",{get:function(){return new t(z)},enumerable:!0,configurable:!0}),t.multiply=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return t.identity;var i=e.concat(),r=i.shift();return r.multiply.apply(r,u(i))},t.translate=function(e){return new t([1,0,0,0,0,1,0,0,0,0,1,0,e.x,e.y,e.z,1])},t.scale=function(e){return new t([e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1])},t.scaleScalar=function(e){return new t([e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1])},t.rotateX=function(e){return new t([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1])},t.rotateY=function(e){return new t([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1])},t.rotateZ=function(e){return new t([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1])},t.lookAt=function(e,n,i,r){void 0===n&&(n=new v([0,0,0])),void 0===i&&(i=new v([0,1,0])),void 0===r&&(r=0);var o=e.sub(n).normalized,s=i.cross(o).normalized,u=o.cross(s);return s=s.scale(Math.cos(r)).add(u.scale(Math.sin(r))),u=o.cross(s),new t([s.x,s.y,s.z,0,u.x,u.y,u.z,0,o.x,o.y,o.z,0,e.x,e.y,e.z,1])},t.lookAtInverse=function(e,n,i,r){void 0===n&&(n=new v([0,0,0])),void 0===i&&(i=new v([0,1,0])),void 0===r&&(r=0);var o=e.sub(n).normalized,s=i.cross(o).normalized,u=o.cross(s);return s=s.scale(Math.cos(r)).add(u.scale(Math.sin(r))),u=o.cross(s),new t([s.x,u.x,o.x,0,s.y,u.y,o.y,0,s.z,u.z,o.z,0,-s.x*e.x-s.y*e.y-s.z*e.z,-u.x*e.x-u.y*e.y-u.z*e.z,-o.x*e.x-o.y*e.y-o.z*e.z,1])},t.perspective=function(e,n,i){void 0===e&&(e=45),void 0===n&&(n=.01),void 0===i&&(i=100);var r=1/Math.tan(e*Math.PI/360),o=i-n;return new t([r,0,0,0,0,r,0,0,0,0,-(i+n)/o,-1,0,0,-2*i*n/o,0])},t.prototype.decompose=function(){var t=this.elements,e=new v([t[0],t[1],t[2]]).length,n=new v([t[4],t[5],t[6]]).length,i=new v([t[8],t[9],t[10]]).length;this.determinant<0&&(e=-e);var r=1/e,o=1/n,s=1/i,u=this.clone();return u.elements[0]*=r,u.elements[1]*=r,u.elements[2]*=r,u.elements[4]*=o,u.elements[5]*=o,u.elements[6]*=o,u.elements[8]*=s,u.elements[9]*=s,u.elements[10]*=s,{position:new v([t[12],t[13],t[14]]),scale:new v([e,n,i]),rotation:w.fromMatrix(u)}},t.compose=function(e,n,i){var r=n.x,o=n.y,s=n.z,u=n.w,a=r+r,h=o+o,c=s+s,l=r*a,f=r*h,_=r*c,p=o*h,y=o*c,m=s*c,d=u*a,b=u*h,g=u*c,v=i.x,x=i.y,w=i.z;return new t([(1-(p+m))*v,(f+g)*v,(_-b)*v,0,(f-g)*x,(1-(l+m))*x,(y+d)*x,0,(_+b)*w,(y-d)*w,(1-(l+p))*w,0,e.x,e.y,e.z,1])},t}(),P=function(t){function e(e){void 0===e&&(e=[0,0,0,0]);var n=t.call(this)||this;return n.elements=e,n}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Vector4( "+this.x.toFixed(3)+", "+this.y.toFixed(3)+", "+this.z.toFixed(3)+", "+this.w.toFixed(3)+" )"},e.prototype.applyMatrix4=function(t){var n=t.elements;return new e([n[0]*this.x+n[4]*this.y+n[8]*this.z+n[12]*this.w,n[1]*this.x+n[5]*this.y+n[9]*this.z+n[13]*this.w,n[2]*this.x+n[6]*this.y+n[10]*this.z+n[14]*this.w,n[3]*this.x+n[7]*this.y+n[11]*this.z+n[15]*this.w])},e.prototype.__new=function(t){return new e(t)},Object.defineProperty(e,"zero",{get:function(){return new e([0,0,0,0])},enumerable:!0,configurable:!0}),Object.defineProperty(e,"one",{get:function(){return new e([1,1,1,1])},enumerable:!0,configurable:!0}),e}(g),O=function(){function t(t,e){this.i=t,this.o=e}return t.prototype.swap=function(){var t=this.i;this.i=this.o,this.o=t},t}(),j=function(){function t(){this.__bpm=0,this.__lastTap=0,this.__lastBeat=0,this.__lastTime=0,this.__calc=new d(16)}return Object.defineProperty(t.prototype,"beatDuration",{get:function(){return 60/this.__bpm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bpm",{get:function(){return this.__bpm},set:function(t){this.__lastBeat=this.beat,this.__lastTime=performance.now(),this.__bpm=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beat",{get:function(){return this.__lastBeat+.001*(performance.now()-this.__lastTime)/this.beatDuration},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.__calc.reset()},t.prototype.nudge=function(t){this.__lastBeat=this.beat+t,this.__lastTime=performance.now()},t.prototype.tap=function(){var t=performance.now(),e=.001*(t-this.__lastTap);2<e?this.reset():(this.__calc.push(e),this.__bpm=60/this.__calc.mean),this.__lastTap=t,this.__lastTime=t,this.__lastBeat=0},t}(),T=function(){function t(t){this.seed=t||1}return t.prototype.gen=function(t){return t&&(this.seed=t),this.seed=this.seed^this.seed<<13,this.seed=this.seed^this.seed>>>17,this.seed=this.seed^this.seed<<5,this.seed/Math.pow(2,32)+.5},t.prototype.set=function(t){this.seed=t||this.seed||1},t}();t.CDS=n,t.Clock=i,t.ClockFrame=a,t.ClockRealtime=h,t.ExpSmooth=p,t.FMS_Cat=m,t.FizzBuzz=y,t.HistoryMeanCalculator=d,t.HistoryMedianCalculator=b,t.Matrix4=M,t.Quaternion=w,t.Swap=O,t.TRIANGLE_STRIP_QUAD=[-1,-1,1,-1,-1,1,1,1],t.TRIANGLE_STRIP_QUAD_3D=[-1,-1,0,1,-1,0,-1,1,0,1,1,0],t.TRIANGLE_STRIP_QUAD_NORMAL=[0,0,1,0,0,1,0,0,1,0,0,1],t.TRIANGLE_STRIP_QUAD_UV=[0,0,1,0,0,1,1,1],t.TapTempo=j,t.Vector=g,t.Vector3=v,t.Vector4=P,t.Xorshift=T,t.binarySearch=e,t.clamp=l,t.lerp=c,t.linearstep=_,t.matrix2d=function(t,e){for(var n=[],i=0;i<e;i++)for(var r=0;r<t;r++)n.push(r,i);return n},t.rawIdentityMatrix4=z,t.rawIdentityQuaternion=x,t.saturate=f,t.shuffleArray=function(t,e){for(var n=e||function(){return Math.random()},i=0;i<t.length-1;i++){var r=i+Math.floor(n()*(t.length-i)),o=t[r];t[r]=t[i],t[i]=o}return t},t.smootherstep=function(t,e,n){var i=_(t,e,n);return i*i*i*(i*(6*i-15)+10)},t.smootheststep=function(t,e,n){var i=_(t,e,n);return i*i*i*i*(i*(i*(-20*i+70)-84)+35)},t.smoothstep=function(t,e,n){var i=_(t,e,n);return i*i*(3-2*i)},t.triIndexToLineIndex=function(t){for(var e=[],n=0;n<t.length/3;n++){var i=3*n;e.push(t[i],t[i+1],t[i+1],t[i+2],t[i+2],t[i])}return e},Object.defineProperty(t,"__esModule",{value:!0})}));
